{% extends "base.html" %}

{% block content %}
<style>
    .user-list-container {
        margin: 20px;
    }
    .user-item {
        margin-bottom: 10px;
        padding: 10px;
        background-color: #f0f0f0;
        border-radius: 5px;
    }
    .user-item p {
        margin: 0;
        display: inline-block;
        margin-right: 10px;
    }
    .user-item a {
        display: inline-block;
        background-color: #007bff;
        color: white;
        padding: 5px 10px;
        text-decoration: none;
        border-radius: 5px;
    }
    .search-form {
        margin: 20px;
    }
    .search-form input[type="text"] {
        padding: 5px;
        margin-right: 10px;
        width: 300px;
    }
    .search-form button {
        padding: 5px 10px;
        background-color: #007bff;
        color: white;
        border: none;
        cursor: pointer;
    }
</style>

<div class="search-form">
    <form method="get" action="">
        <input type="text" name="q" placeholder="Search users..." value="{{ query }}">
        <button type="submit">Search</button>
    </form>
</div>

<div class="user-list-container">
    {% for user in users %}
    <div class="user-item">
        <p>{{ user.username }}</p>
        <a href="{% url 'send_message' user.id %}">Send Message</a>
    </div>
    {% empty %}
    <p>No users found.</p>
    {% endfor %}
</div>

{% endblock %}
